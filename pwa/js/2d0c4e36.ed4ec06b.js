(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2d0c4e36"],{"3d6e":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{ref:"pageChat",staticClass:"page-chat flex column",attrs:{no:"",caps:""}},[t.otherUser.online?t._e():a("q-banner",{staticClass:"bg-grey-4 text-center top"},[t._v("\n    "+t._s(t.otherUser.name)+" is offline.\n  ")]),a("div",{staticClass:"q-pa-md column col justify-end",class:{invisible:!t.showMessages}},t._l(t.chats,function(e,r){return a("q-chat-message",{key:r,attrs:{sent:"me"==e.from}},[a("span",{staticClass:"text-weight-bold"},[t._v("\n        "+t._s(e.Nombre)+"\n        "),a("br"),t._v("\n        "+t._s(e.mensaje)+"\n        "+t._s(e.hora)+"\n      ")])])}),1),a("q-footer",[a("q-toolbar",{staticClass:"bg-grey-3 text-black text-weight-bold row"},[a("q-btn",{staticClass:"q-mr-sm",attrs:{round:"",flat:"",icon:"insert_emoticon"}}),a("q-input",{staticClass:"WAL__field col-grow q-mr-sm",attrs:{rounded:"",outlined:"",dense:"","bg-color":"white",placeholder:"Type a message"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.save()}},model:{value:t.mensaje,callback:function(e){t.mensaje=e},expression:"mensaje"}}),a("q-btn",{attrs:{round:"",flat:"",icon:"send"},on:{click:t.save}})],1)],1)],1)},n=[],s=(a("d93a"),a("0012"),a("5b54"),a("2bf3"),a("b7dd"),a("ef92"),a("52b5")),o=a.n(s),i=(a("c1c3"),a("549c")),c=a.n(i),u=a("9289"),l=a.n(u),d=a("94ea"),h=a("3090");function f(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,r)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?f(a,!0).forEach(function(e){l()(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):f(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var p={data:function(){return{newMessage:"",showMessages:!0,otherUser:{},noname:!0,info:!1,id:"",idFoto:"",mensaje:"",datos:{},Actualizando:!1,idActualizar:-1,noimg:"https://i.blogs.es/99f0c0/vue/450_1000.png",urlFoto:"http://localhost/rutaApi/change_photo.php",url:"http://localhost:4000/"}},mounted:function(){this.otherUser=this.$store.state.store.chats,console.log(this.asd)},computed:m({},Object(d["d"])("store",["chats","users","user"]),{asd:function(){return this.$store.state.store2.asd}}),methods:m({},Object(d["b"])("store",["cant","add","update","delete","imgUser","dicant"]),{save:function(){var t=c()(o.a.mark(function t(){var e,a,r;return o.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=new Date,a="me",1==Math.floor(2*Math.random()+1)&&(a="then"),r=h["a"].formatDate(e,"HH:mm:ss DD/MM"),t.next=7,this.add({mensaje:this.mensaje,from:a,hora:r});case 7:this.mensaje="";case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),editar:function(t){this.datosActualizar.id=t,this.update(this.datosActualizar),this.ocultarActualizar()},borrar:function(t){var e=confirm("¿Está seguro de borrar el registro ?");1==e&&this.delete(t)},enviarFoto:function(){var t=c()(o.a.mark(function t(e){var a,r,n;return o.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=new FileReader,a.onload=function(t){var e={};e=t.target.result,document.getElementById("userFoto").src=e},r=e.target.files[0],a.readAsDataURL(r),n=document.getElementById("userFoto").src,t.next=7,this.cargarFoto(n);case 7:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),cargarFoto:function(t){this.imgUser(t)},verFormActualizar:function(t){this.idActualizar=t,this.datosActualizar.mensaje=this.chats[t].mensaje,this.Actualizando=!0},ocultarActualizar:function(){this.Actualizando=!1},crearCuenta:function(){this.noname=!1,localStorage.Nombre=this.datos.Nombre,localStorage.userImg="./statics/noimg.png",this.cant(this.datos.Nombre)},fotoUsuario:function(t){data=t.target.files[0];var e=new FileReader;e.onload=function(t){var e={};e=t.target.result,localStorage.userImg=e},e.readAsDataURL(data)}})},g=p,b=a("a6c2"),v=Object(b["a"])(g,r,n,!1,null,null,null);e["default"]=v.exports}}]);